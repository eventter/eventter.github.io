<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.53" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Protocols | EventterMQ</title>

  
  <meta name="description" content="Overview of options how to connect to the broker"> 
  
  
  
  
  

  

  <meta name="author" content="Jakub Kulhan">


  <meta property="og:title" content="Protocols" />
<meta property="og:description" content="Overview of options how to connect to the broker" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://eventter.io/docs/protocols/" /><meta property="article:published_time" content="2018-12-27T15:34:04&#43;01:00"/>
<meta property="article:modified_time" content="2018-12-27T15:34:04&#43;01:00"/>

  




  
  
  
  
  

  <link rel="canonical" href="https://eventter.io/docs/protocols/">  

  <link rel="manifest" href="/manifest.json"/>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>

<meta name="go-import" content="eventter.io git https://github.com/eventter/eventter.git"/>


  <link href="/css/font.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.min.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.legenda.css" rel="stylesheet" type="text/css">
  <link href="/css/highlight.css" rel="stylesheet" type="text/css">
  <link href="/css/master.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.demo.css" rel="stylesheet" type="text/css">

 <link href="/css/custom.css" rel="stylesheet" type="text/css">

  <script src="/js/jquery-2.1.4.min.js" type="text/javascript">
  </script>

  <script type="text/javascript" src="/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header><div class="show-sm">
    <div id="nav-toggle-box">
      <div id="nav-toggle-brand">
        <a href="/">EventterMQ</a>
      </div><a data-component="toggleme" data-target="#top" href="#" id="nav-toggle"><i class="kube-menu"></i></a>
    </div>
  </div>
  <div class="hide-sm" id="top">
    <div id="top-brand">
      <a href="/" title="home">EventterMQ</a>
    </div>
    <nav id="top-nav-main">
      <ul>
       
       
    <li><a href="/docs/" >Docs</a></li>
    
    <li><a href="https://github.com/eventter/eventter" >GitHub</a></li>
    
      </ul>
    </nav>
    <nav id="top-nav-extra"> 
      <ul>
          
      </ul>
    </nav>
  </div>
</header>
  <main>
    <div id="main">
        <div id="hero">
            <h1> Protocols </h1>
            <p class="hero-lead">
                Which protocols does EventterMQ support?
            </p>

        </div>
        <div id="kube-component" class="content">
            
<nav id="contents">
    <ol class="js-toc">
    </ol>
</nav>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded",
function(){
tocbot.init({

tocSelector: '.js-toc',

contentSelector: '.content',

headingSelector: 'h3'
})
}
);
</script>



            

<p>EventterMQ currently supports two protocols:</p>

<ul>
<li><a href="https://eventter.io/docs/amqp-0-9-1/">AMQP 0.9.1</a> (standardized messaging protocol),</li>
<li><a href="https://grpc.io/">gRPC</a> service described by <code>emq.proto</code> (<a href="https://github.com/eventter/eventter/tree/master/mq/emq/emq.proto">see it on GitHub</a>).</li>
</ul>

<h3 id="amqp-0-9-1">AMQP 0.9.1</h3>

<p>AMQP 0.9.1 is a binary protocol intended for messaging. It&rsquo;s reasonably easy to implement, therefore there are many client libraries. It&rsquo;s most well-know to be the core protocol of <a href="http://www.rabbitmq.com/">RabbitMQ</a>. Probably most up-to-date list of client libraries can be found on RabbitMQ website <a href="https://www.rabbitmq.com/devtools.html">here</a>. Some notable mentions:</p>

<ul>
<li><a href="https://github.com/squaremo/amqp.node">amqp.node</a> - Node.JS (Javascript) client library,</li>
<li><a href="https://github.com/rabbitmq/rabbitmq-java-client/">RabbitMQ Java Client</a> - Java client library, developed by RabbitMQ,</li>
<li><a href="https://github.com/jakubkulhan/bunny">BunnyPHP</a> - PHP client library,</li>
<li><a href="https://github.com/streadway/amqp">streadway/amqp</a> - Go client library,</li>
<li><a href="http://rubybunny.info/">Bunny</a> - Ruby client library,</li>
<li><a href="https://github.com/sozu-proxy/lapin">Lapin</a> - Rust client library,</li>
<li><a href="https://github.com/alanxz/rabbitmq-c">RabbitMQ C</a> - C client library.</li>
</ul>

<blockquote>
<p><strong>Note: Keywords</strong></p>

<p>As you can see most libraries are very &ldquo;rabbit-themed&rdquo;, therefore if you search for a library in your language, try keywords, apart from <strong>amqp</strong>, such as <strong>rabbitmq</strong>, <strong>rabbit</strong>, <strong>bunny</strong>, <strong>lapin</strong> etc.</p>
</blockquote>

<hr />

<blockquote>
<p><strong>Note 2: Protocol extensions</strong></p>

<p>RabbitMQ <a href="https://www.rabbitmq.com/extensions.html">extends</a> AMQP 0.9.1 in several ways. The only RabbitMQ extension supported by EventterMQ is <a href="https://www.rabbitmq.com/nack.html">basic.nack</a>. This extension is reported by EventterMQ when opening new connection, however, some client libraries might not consider server-reported capabilities and take all RabbitMQ extensions for granted.</p>
</blockquote>

<p>AMQP uses slightly different model for decoupling producers and consumers than EventterMQ. To see how AMQ entities map to EventterMQ entities read through separate <a href="https://eventter.io/docs/amqp-0-9-1/">AMQP 0.9.1 article</a>.</p>

<h3 id="grpc">gRPC</h3>

<p>gRPC API is described by <code>emq.proto</code> (<a href="https://github.com/eventter/eventter/tree/master/mq/emq/emq.proto">see it on GitHub</a>). You can use this API to manage namespaces, topics, consumer groups, and to work with messages (publish &amp; consume). To see how to use this service definition file to generate client library, see <a href="https://grpc.io/docs/quickstart/">gRPC quick start</a>.</p>

<p>There is <a href="https://golang.org/">Go</a> client (generated from service definition above) available as package <code>eventter.io/mq/emq</code>. To get the library, run:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ go get -u eventter.io/mq/emq</code></pre></div>
<p>Example usage:</p>

<nav class="tabs" data-component="tabs">
    <ul><li class="active">
                    <a href="#examples-grpc-client-client-go">Go</a>
                </li></ul>
</nav>
<div id="examples-grpc-client-client-go"><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#000;font-weight:bold">package</span> main

<span style="color:#000;font-weight:bold">import</span> (
	<span style="color:#d14">&#34;context&#34;</span>

	<span style="color:#d14">&#34;eventter.io/mq/emq&#34;</span>
	<span style="color:#d14">&#34;google.golang.org/grpc&#34;</span>
)

<span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">main</span>() {
	<span style="color:#998;font-style:italic">// at the moment the broker doesn&#39;t support TLS-encrypted connections,
</span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// always use grpc.WithInsecure() option
</span><span style="color:#998;font-style:italic"></span>
	client, err <span style="color:#000;font-weight:bold">:=</span> emq.<span style="color:#900;font-weight:bold">Dial</span>(<span style="color:#d14">&#34;127.0.0.1:16000&#34;</span>, grpc.<span style="color:#900;font-weight:bold">WithInsecure</span>())
	<span style="color:#000;font-weight:bold">if</span> err <span style="color:#000;font-weight:bold">!=</span> <span style="color:#000;font-weight:bold">nil</span> {
		<span style="color:#0086b3">panic</span>(err)
	}
	<span style="color:#000;font-weight:bold">defer</span> client.<span style="color:#900;font-weight:bold">Close</span>()

	<span style="color:#998;font-style:italic">// work with client, e.g.:
</span><span style="color:#998;font-style:italic"></span>
	ctx, cancel <span style="color:#000;font-weight:bold">:=</span> context.<span style="color:#900;font-weight:bold">WithCancel</span>(context.<span style="color:#900;font-weight:bold">Background</span>())
	<span style="color:#000;font-weight:bold">defer</span> <span style="color:#900;font-weight:bold">cancel</span>()

	response, err <span style="color:#000;font-weight:bold">:=</span> client.<span style="color:#900;font-weight:bold">CreateNamespace</span>(ctx, <span style="color:#000;font-weight:bold">&amp;</span>emq.CreateNamespaceRequest{
		Namespace: <span style="color:#d14">&#34;foo&#34;</span>,
	})
	<span style="color:#000;font-weight:bold">if</span> err <span style="color:#000;font-weight:bold">!=</span> <span style="color:#000;font-weight:bold">nil</span> {
		<span style="color:#0086b3">panic</span>(err)
	}

	_ = response
}</code></pre></div></div>

<h3 id="additional-protocols">Additional protocols</h3>

<p>Support for additional protocols is planned. At the moment planned protocols are:</p>

<ul>
<li>AMQP 1.0 - it would seem that AMQP 1.0 is just another version of AMQP 0.9.1, however, they&rsquo;re, in essence, completely different protocols (different semantics, wire representations), albeit developed by the same working group and both targeted for messaging (AMQP 0.9.1 was chosen to be implemented first as it&rsquo;s used more),</li>
<li>HTTP - simple protocol, although not intended for messaging (if you look into <code>emq.proto</code>, you&rsquo;ll see that all RPC calls are annotated with HTTP verbs and paths, it should be easy to generate HTTP service using <a href="https://github.com/grpc-ecosystem/grpc-gateway">grpc-gateway</a>).</li>
<li>MQTT - protocol mostly used for <a href="https://en.wikipedia.org/wiki/Internet_of_things">IoT</a> and compute-/memory-constrained devices.</li>
</ul>

<h3 id="what-next">What next?</h3>

<p>Learn about <a href="https://eventter.io/docs/use-cases/">use cases</a> the broker is good for. Or how it achieves fault-tolerance using <a href="https://eventter.io/docs/clustering/">clustering</a>.</p>


            <hr/>

            <h6>Getting Help</h6>

            <p>If you have any question, please create a new <a href="https://github.com/eventter/eventter/issues">GitHub issue</a>.</p>

            <h6>Improve this Page</h6>

            <p>Is there something missing? Are some information confusing? The code for this site <a href="https://github.com/eventter/eventter/tree/master/web">available at GitHub</a>. Feel free to fork the repository and submit pull request. Thank you!</p>

        </div>
    </div>
</main>
  <footer><footer id="footer">
    <p class="copyright">&copy; 2018 Jakub Kulhan under the terms of <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a> with <a href="https://commonsclause.com/">Commons Clause condition</a>.</p>
</footer>
</footer>


  <script src="/js/kube.js" type="text/javascript">
  </script>
  <script src="/js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="/js/master.js" type="text/javascript">
  </script>
</body>

</html>
